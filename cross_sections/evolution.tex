\subsection{Time Travel}
\label{sec:time_travel}

\begin{lemma}
\label{lem:uniform_velocity}
All points on a single segment $s$ move with the same velocity $v_i$.
\end{lemma}

In the process of time travel, the lengths of segments may change.
This can also be visualized as movement of the corresponding joint along one of the segments.
The movement of a joint increases the length of one of its associated segments,
and decreases the length of the other segment by the same amount (this ensures that the total length is preserved).
Most velocity sequences are invalid. For example\ldots

We will use some abuse of notation, by using $\vec v_i, \vec o_i$ etc.
to refer to the corresponding parameters of $s_i$.

Note that the trajectory of the joints form a crease \ldots angle is angle between direction vectors.
Creases are also created when a segment changes direction\ldots angle is change in direction vector.

\begin{proposition}
\label{prop:valid_joint}
A joint $J$ corresponding to segments $s$ and $t$ is \emph{valid}
if and only if the resulting evolution of the joint preserves distances.
\end{proposition}

\begin{definition}
\label{def:segment_length}
For ever segment $s$ in a cross section $C$, we associate a left velocity $L_s$,
which indicates the rate at which $s$ grows from its left endpoint.
Similarly, we define a right velocity $R_s$ \ldots
\end{definition}

\begin{restatable}{pro}{LeftRightVelocity}
\label{pro:left_right_velocity}
The right velocity of $s_{i}$ is the negation of the left velocity of $s_{i+1}$.
This is to ensure the preservation of distance between any two nodes.
Furthermore, the left velocity of the first segment, and the right velocity of the last segment should be zero, i.e. $L_0 = R_n = 0$
This ensures that the total length of the cross section does not change.
\end{restatable}

\begin{figure}[htpb]
\graphicspath{{./notebooks/}}
    \centering
    \def\svgwidth{0.7\textwidth}
    \input{notebooks/joint_plane_velocity.pdf_tex}
    \caption{A joint with segments $l$ and $r$.
    The trajectory of the joint is shown in orange.
    The trajectories of $a$ and $b$ are shown in blue.
    The green arrows indicate $\vec v^\shortparallel$}
    \label{fig:joint_plane_velocity}
\end{figure}

\todo[inline]{Define Nodes}
Consider a joint $\vec J_i$ corresponding to segments $l = s_i$ and $r = s_{i+1}$, at time $t=0$.
Henceforth, we will refer to $L_l$ as $L$, and $R_r$ as $R$.
Without loss of genenerality, we assume that $L<0$.
At a later time $t$, let the new joint position be $\vec J'_i$.
We define nodes $a$ and $b$ corresponding to $\vec J_i$ and $\vec J_{i+1}$ respectively.
We also define the initial and final positions of $a$ as $\vec a$,
and $\vec a'$, and similarly for $b$, we define $\vec b$ and $\vec b'$.
Let $d$ be the \emph{separation} between nodes $a$ and $b$.
this setup is shown in Figure~\ref{fig:joint_plane_velocity}

First, note that $\vec a, \vec b$ lie on the segment $l$, and $\vec a', \vec b'$ lie on the segment $r$,
which implies that $\vec b-\vec a = d\cdot \vec{\hat o_l}$, and $\vec b'-\vec a' = d\cdot \vec{\hat o_r}$.
\begin{align}
\vec b' - \vec a' &= (\vec b + t\cdot \vec v_r^\shortparallel) - (\vec a + t\cdot \vec v_l^\shortparallel)\\
\implies \vec b' - \vec a' &= (\vec b - \vec a) + t\cdot(\vec v_r^\shortparallel - \vec v_l^\shortparallel)\\
\implies d\cdot \vec{\hat o_r} &= d\cdot \vec{\hat o_l} + t\cdot(\vec v_r^\shortparallel - \vec v_l^\shortparallel)\\
\implies \vec v_r^\shortparallel - \vec v_l^\shortparallel &= \frac{d}{t}\cdot(\vec{\hat o_r}-\vec{\hat o_l})\\
&= R\cdot(\vec{\hat o_r}-\vec{\hat o_l}) = -L\cdot(\vec{\hat o_r}-\vec{\hat o_l})
\end{align}

This implies that $\vec{\hat o_l}\times \vec{\hat o_r}$ is oriented opposite to $\vec v_l^\shortparallel\times \vec v_r^\shortparallel$.
If the angle between the segments (between $\vec{\hat o_l}$ and $\vec{\hat o_r}$) is $\theta$,
the magnitude of $\vec{\hat o_r}-\vec{\hat o_l}$ is $\sqrt{2-2\cos(\theta)}$,
and $|\vec v_r^\shortparallel-\vec v_l^\shortparallel| = v\cdot\sqrt{2-2\cos(\pi-\theta)}$.
Here, $v$ is magnitude of the plane velocity of $J_i$.
\begin{align}
R = \frac dt &= \frac{|\vec v_r^\shortparallel - \vec v_l^\shortparallel|}{|\vec{\hat o_r}-\vec{\hat o_l}|}\\
&= v\cdot\frac{\sqrt{\sin^2\left( {\pi/2-\theta/2}\right)}}{\sqrt{\sin^2{\theta/2}}}\\
&= v\cdot\cot\left( \frac{\theta}{2} \right)
\end{align}


\begin{restatable}{pro}{JointVelocity}
\label{pro:joint_velocity}
The velocity of a joint $J$ associated with segments $l$ and $r$, is a constant vector
$\vec J_v = \vec{\hat v_l} + \vec{\hat o_l}\frac{|\vec v_r^\shortparallel - \vec v_l^\shortparallel|}{|\vec{\hat o_r}-\vec{\hat o_l}|}$
\end{restatable}

\todo[inline]{Surface traced out by cross section}

This can result in a segment length becoming zero then delete.
We may create a new segment at any point of zero length.

Note that time evolution is reversible.
